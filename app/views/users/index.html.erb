<% if current_user && current_user.admin %>
	<h4>Total users: <%= User.count %></h4>
	
	<h1>Listing users</h1>
	
	<table class="backed">
		<tr>
			<th>ID</th>
			<th>First name</th>
			<th>Last name</th>
			<th>Username</th>
			<th>Admin</th>
			<th>Email</th>
			<th>Puzzle Count</th>
			<th>Clue Count</th>
			<th></th>
			<th></th>
			<th></th>
		</tr>
	
	<% @users.each do |user| %>
		<tr>
			<td><%= user.id %></td>
			<td><%= user.first_name %></td>
			<td><%= user.last_name %></td>
			<td><%= user.username %></td>
			<td><%= user.admin %></td>
			<td><%= user.email %></td>
			<td><%= user.crossword_puzzles_count %></td>
			<td><%= user.clues_count %></td>
			<td><%= link_to 'Show', user %></td>
			<td><%= link_to 'Edit', edit_user_path(user) %></td>
			<td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
		</tr>
	<% end %>
	</table>
	<br />
	<%= link_to 'New User', new_user_path %>
<% else %>
	
	<%= render :partial => "partial/admin_only" %>
	
<% end %>