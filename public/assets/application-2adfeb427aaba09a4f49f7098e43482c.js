function Crossword(e,t,n){this.voids=e,this.letters=t,this.clues=n}function deleteCells(){$(".cells").remove()}function deleteRows(){$(".row").remove()}function getCellIndex(e){return $cells.index(e)}function getCellIndexFromRC(e,t){return e*numCols+t}function get$CellfromRC(e,t){return $($cells[getCellIndexFromRC(e,t)])}function getRow(e){if(typeof e=="number")return Math.floor(e)/numRows;if(typeof e=="object")return Math.floor(getCellIndex(e)/numRows);throwIndexCellError()}function getCol(e){if(typeof e=="number")return e%numCols;if(typeof e=="object")return getCellIndex(e)%numCols;throwIndexCellError()}function isTopRowCell(e){if(typeof e=="number")return e<numCols&&e>=0;if(typeof e=="object")return getRow(e)==0;throwIndexCellError()}function isBotRowCell(e){if(typeof e=="number"){var t=numCols*numRows-1;return e>t-numCols}if(typeof e=="object")return getRow(e)==numRows-1;throwIndexCellError()}function isLeftColCell(e){if(typeof e=="number")return e%numCols==0;if(typeof e=="object")return getCol(e)==0;throwIndexCellError()}function isRightColCell(e){if(typeof e=="number")return e%numCols==numCols-1;if(typeof e=="object")return getCol(e)==numCols-1;throwIndexCellError()}function throwIndexCellError(){throw new Error("Invalid input. Only cell indices (integers) and cell jQuery objects are allowed.")}function $cellAbove(e){if(typeof e=="number")return $($cells[e-numCols]);if(typeof e=="object")return $($cells[getCellIndex(e)-numCols]);throwIndexCellError()}function $cellBelow(e){if(typeof e=="number")return $($cells[e+numCols]);if(typeof e=="object")return $($cells[getCellIndex(e)+numCols]);throwIndexCellError()}function $cellLeft(e){if(typeof e=="number")return $($cells[e-1]);if(typeof e=="object")return $($cells[getCellIndex(e)-1]);throwIndexCellError()}function $cellRight(e){if(typeof e=="number")return $($cells[e+1]);if(typeof e=="object")return $($cells[getCellIndex(e)+1]);throwIndexCellError()}function $cellOpposite(e){if(typeof e=="number")return $($cells[numCols*numRows-e]);if(typeof e=="object")return $($cells[numCols*numRows-getCellIndex(e)-1]);throwIndexCellError()}function getClueLeft(e){return hasAcrossClue(e)&&!isVoid(e)?{Number:parseFloat(e.attr("cellnumber")),Clue:acrossClue(e)}:isLeftColCell(getCellIndex(e))||isVoid(e)?!1:getClueLeft($cellLeft(e))}function getClueAbove(e){return hasDownClue(e)&&!isVoid(e)?{Number:parseFloat(e.attr("cellnumber")),Clue:downClue(e)}:isTopRowCell(getCellIndex(e))||isVoid(e)?!1:getClueAbove($cellAbove(e))}function hasDownClue(e){return e.attr("downclue")&&e.attr("downclue")!=-1?!0:!1}function hasAcrossClue(e){return e.attr("acrossclue")&&e.attr("acrossclue")!=-1?!0:!1}function downClue(e){return e.attr("downclue")}function acrossClue(e){return e.attr("acrossclue")}function makeVoid(e){removeCorrectness(e),e.val(""),e.addClass("void"),$("#autoMirror").attr("checked")&&!isVoid($cellOpposite(e))&&($cellOpposite(e).val()?confirm('Overwrite the "'+$cellOpposite(e).val().toUpperCase()+'" in mirror cell at ('+(getRow($cellOpposite(e))+1)+","+(getCol($cellOpposite(e))+1)+")?")&&makeVoid($cellOpposite(e)):makeVoid($cellOpposite(e))),numberCells()}function toggleVoid(e){e.hasClass("void")?(e.removeClass("void"),$("#autoMirror").attr("checked")&&isVoid($cellOpposite(e))&&toggleVoid($cellOpposite(e))):makeVoid(e),updateWhiteBlack(),numberCells()}function removeCorrectness(e){e.removeClass("correct"),e.removeClass("incorrect")}function isVoid(e){return e.hasClass("void")}function hasLetterAbove(e){return!isTopRowCell(e)&&!$cellAbove(e).hasClass("void")}function hasLetterBelow(e){return!isBotRowCell(e)&&!$cellBelow(e).hasClass("void")}function hasLetterLeft(e){return!isLeftColCell(e)&&!$cellLeft(e).hasClass("void")}function hasLetterRight(e){return!isRightColCell(e)&&!$cellRight(e).hasClass("void")}function isLoneCell(e){return!hasLetterAbove(e)&&!hasLetterBelow(e)||!hasLetterLeft(e)&&!hasLetterRight(e)}function numberCells(){clearNumbers(),cellNumberingCounter=1;for(var e=0;e<$cells.length;e++)$cell=$($cells[e]),$cellNum=$($cellNums[e]),!$cell.hasClass("void")&&(!isLoneCell(e)||$("#skipSingles").length>0&&!$("#skipSingles").attr("checked"))&&(isTopRowCell(e)?addNumber($cell,$cellNum):isLeftColCell(e)?addNumber($cell,$cellNum):$cellAbove(e)&&($cellAbove(e).hasClass("void")?addNumber($cell,$cellNum):$cellLeft(e)&&$cellLeft(e).hasClass("void")&&addNumber($cell,$cellNum)));cellNumberingCounter=1}function addNumber(e,t){e.attr("cellnumber",cellNumberingCounter),t.text(""+cellNumberingCounter),cellNumberingCounter+=1}function clearNumbers(){$cellNums.text(""),$cells.attr("cellnumber",-1)}function clearVoids(){$cells.removeClass("void")}function clearLetters(){$cells.val("")}function clearCorrectness(){$cells.removeClass("correct"),$cells.removeClass("incorrect")}function clearCells(){clearLetters(),clearNumbers(),clearVoids(),clearCorrectness(),$("#cheatResult").text("")}function clearClues(){$cells.attr("acrossclue",-1),$cells.attr("downclue",-1)}function clearCredits(){$(".cwordTitle").text("+"),$(".cwordCreator").text("+"),$(".cwordYear").text("")}function updateRCTip(){$("#rowDim").text(numRows),$("#colDim").text(numCols)}function updateWhiteBlack(){$("#whiteCellCount").text($(".cell:not(.void)").length),$("#blackCellCount").text($(".cell.void").length)}function updateStats(){updateRCTip(),updateWhiteBlack()}function getClueOrientation(){return $("#acrossDownAddClue").attr("checked")?"across":"down"}function getClueText(){return $("#clueForm textarea#clueInput").val()}function getClueCellNumber(){return $("#clueForm #clueCell").val()}function addClue(e,t,n){$cell=$(".cell[cellnumber="+t+"]"),n=="across"?$cell.attr("acrossclue",e):n=="down"&&$cell.attr("downclue",e)}function cheat(){correctLetters=0,totalLetters=0;for(var e=0;e<$cells.length;e++)$cell=$($cells[e]),$cell.hasClass("void")||(totalLetters+=1,$cell.val().toLowerCase()===currentCrossword.letters[e].toLowerCase()&&!$cell.hasClass("incorrect")?(correctLetters+=1,$cell.addClass("correct")):($cell.addClass("incorrect"),$cell.val(currentCrossword.letters[e])));var t=correctLetters>.8*totalLetters?"Awesome job!":"Sucks, brah.";$("#cheatResult").css({opacity:1}).text("You got "+correctLetters+" out of "+totalLetters+" correct. "+t)}function showIncorrect(){var e=0;for(var t=0;t<$cells.length;t++)$cell=$($cells[t]),$cell.hasClass("void")||($cell.val().toLowerCase()!==currentCrossword.letters[t].toLowerCase()&&!$cell.hasClass("incorrect")?($cell.removeClass("correct"),$cell.addClass("flashRed")):$cell.val().toLowerCase()==currentCrossword.letters[t].toLowerCase()&&!$cell.hasClass("correct")&&$cell.addClass("correct"));$(".flashRed").length==0?$("#cheatResult").text("You solved the puzzle!").animate({opacity:1},"fast","linear"):($("#cheatResult").text("Still "+$(".flashRed").length+" letters to solve!").animate({opacity:1},500,"linear").delay(1e3),$(".flashRed").animate({backgroundColor:"rgba(255,192,203,1)"},400,"linear").delay(600).animate({backgroundColor:"rgba(255,255,255,0)"},800,"linear").removeClass("flashRed"),$("#cheatResult").animate({opacity:0},"medium"))}function toggleAdvanced(){$("#pen").toggleClass("hidden"),$("#advControls").toggleClass("hidden")}function toggleText(e,t,n){if(e.text()==t)e.text(n);else{if(e.text()!=n)throw new Error("Not toggling");e.text(t)}}function loadCrossword(e){clearCells(),clearClues(),inputVoids(e.voids),numberCells(),currentCrossword=e,inputClues(e.clues),updateStats(),solveMode()}function newCrossword(){clearCells(),clearClues(),currentCrossword=new Crossword([],[],[]),clearCredits(),editMode()}function updateHiddenLetters(){$("#hiddenLetters").val(outputLetterVoids())}function removeBrackets(e){return e.replace(/[\[\]']+/g,"")}function removeApostrophes(e){return e.replace(/'/g,"")}function sanitizeClue(e){var t=e.replace(/"/g,"''");return t=t.replace(/\'/g,"\\'"),t}function inputVoids(e){Object.prototype.toString.call(e)==="[object String]"&&(e=removeBrackets(e).split(",")),$cells.removeClass("void");for(var t=0;t<e.length;t++)makeVoid($($cells[e[t]]))}function inputLetters(e){Object.prototype.toString.call(e)==="[object String]"&&(e=removeBrackets(e).split(","));for(var t=0;t<$cells.length;t++)e[t]!=" "?$($cells[t]).val(e[t]):$($cells[t]).val("")}function outputLetterVoids(){var e="";for(var t=0;t<$cells.length;t++)$cell=$($cells[t]),$cell.hasClass("void")?e+="_":$cell.val()==""?e+=" ":e+=$cell.val();return e}function inputClues(e){var t=JSON.parse(e);for(var n=0;n<t.length;n++)t[n].Across&&$(".cell[cellnumber ="+(n+1)+"]").attr("acrossclue",t[n].Across),t[n].Down&&$(".cell[cellnumber ="+(n+1)+"]").attr("downclue",t[n].Down)}(function(){}).call(this);var cell='<div class="cellContainer"><input class="cell" type="text" cellnumber=-1 acrossclue=-1 downclue=-1 maxlength="1"></input><div class="cellNum"></div></div>',row='<div class="row"></div>',$cells,$cellNums,numRows,numCols,cellNumberingCounter=1;(function(){}).call(this),function(){}.call(this),$(document).ready(function(){$(".top-notice").delay(1200).fadeOut(500)}),$(document).ready(function(){$(".menuTab").on("mouseenter",function(){$(this).find(".dropMenu").fadeIn(60)}),$(".menuTab").on("mouseleave",function(){$(this).find(".dropMenu").fadeOut(50)}),$(".dropMenu li").on("mouseenter",function(){$(this).find(".leftMenu").fadeIn(60)}),$(".dropMenu li").on("mouseleave",function(){$(this).find(".leftMenu").fadeOut(50)})}),function(){}.call(this),function(){}.call(this),function(){}.call(this);